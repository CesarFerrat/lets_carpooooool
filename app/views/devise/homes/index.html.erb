
<script type="text/javascript">
var location1;
var location2;

function initialize() {

    var autocomplete1 = new google.maps.places.Autocomplete(
        (document.getElementById('autocomplete1')),
        { types: ['geocode'] });
    var autocomplete2 = new google.maps.places.Autocomplete(
        (document.getElementById('autocomplete2')),
        { types: ['geocode'] });
    google.maps.event.addListener(autocomplete1, 'place_changed', firstPlaceChanged);
    google.maps.event.addListener(autocomplete2, 'place_changed', secondPlaceChanged);

      function firstPlaceChanged () {
         var place1 = autocomplete1.getPlace();
         console.log(place1);
         lat1 = place1.geometry.location.lat().toString();
         lng1 = place1.geometry.location.lng().toString();
         city1 = place1.address_components[0].long_name;
         // country1 = place1.address_components[3].short_name;
         console.log(city1);
         // console.log(country1);

         $('#lat1').val(lat1);
         $('#lng1').val(lng1);
         $('#city1').val(city1);
         // $('#country1').val(country1);
      };
      function secondPlaceChanged () {
         var place2 = autocomplete2.getPlace();
         console.log(place2);
         lat2 = place2.geometry.location.lat().toString();
         lng2 = place2.geometry.location.lng().toString();
         city2 = place2.address_components[0].long_name;
         // country2 = place2.address_components[3].short_name;
         console.log(city2);
         // console.log(country2);

         $('#lat2').val(lat2);
         $('#lng2').val(lng2);
         $('#city2').val(city2);
         // $('#country2').val(country2);
      };
};


function initialize2() {

  var autocomplete3 = new google.maps.places.Autocomplete(
        (document.getElementById('autocomplete3')),
        { types: ['geocode'] });
  var autocomplete4 = new google.maps.places.Autocomplete(
        (document.getElementById('autocomplete4')),
        { types: ['geocode'] });
    google.maps.event.addListener(autocomplete3, 'place_changed', firstPlaceChanged);
    google.maps.event.addListener(autocomplete4, 'place_changed', secondPlaceChanged);

      function firstPlaceChanged () {
         var place1 = autocomplete3.getPlace();
         console.log(place1);
         lat1 = place1.geometry.location.lat().toString();
         lng1 = place1.geometry.location.lng().toString();
         city1 = place1.address_components[0].long_name;
         // country1 = place1.address_components[3].short_name;
         console.log(city1);
         // console.log(country1);

         $('#ridelat1').val(lat1);
         $('#ridelng1').val(lng1);
         $('#ridecity1').val(city1);
         // $('#ridecountry1').val(country1);
      };
      function secondPlaceChanged () {
         var place2 = autocomplete4.getPlace();
         console.log(place2);
         lat2 = place2.geometry.location.lat().toString();
         lng2 = place2.geometry.location.lng().toString();
         city2 = place2.address_components[0].long_name;
         // country2 = place2.address_components[3].short_name;
         console.log(city2);
         // console.log(country2);

         $('#ridelat2').val(lat2);
         $('#ridelng2').val(lng2);
         $('#ridecity2').val(city2);
         // $('#ridecountry2').val(country2);
      };
};

$(document).ready(initialize);
$(document).ready(initialize2);

</script>

<body  class="parallax">
  <div class="container">
    <div class="row">
    </div>

    <div class="row"><br>
      <div class="center-fix">
      <h1 class="underline animated fadeInDown">Post a trip!</h1>
        <form id="tripForm" method="post" action="/trips/form" class="form-horizontal">
            <div class="form-group">
                <label class="col-xs-3 control-label">From: </label>
                <div class="col-xs-5">
                    <input type="textarea" id="autocomplete1" class="form-control" placeholder="Enter origin"/>
                    <input type="hidden" id="lat1" name="lat1"/>
                    <input type="hidden" id="lng1" name="lng1"/>
                    <input type="hidden" id="city1" name="city1"/>
                    <!-- <input type="hidden" id="country1" name="country1"/> -->
                </div>
            </div>
            <div class="form-group">
                <label class="col-xs-3 control-label">To: </label>
                <div class="col-xs-5">
                    <input type="text" id="autocomplete2" class="form-control" placeholder="Enter destination"/>
                    <input type="hidden"  id="lat2" name="lat2"/>
                    <input type="hidden"  id="lng2" name="lng2"/>
                    <input type="hidden" id="city2" name="city2"/>
                    <!-- <input type="hidden" id="country2" name="country2"/> -->
                </div>
            </div>
            <div class="form-group">
                <div class="col-xs-5 col-xs-offset-3">
                    <button type="submit" id="js-submit" class="btn btn-primary">Add trip!</button>
                </div>
            </div>
        </form>
      </div>
    </div>
    <div class="row"><br><br>
      <div class="center-fix">
        <h1 class="underline animated fadeInDown">Look for a ride!</h1>
          <form id="rideForm" method="post" action="/trips/matchingtrips" class="form-horizontal">
            <div class="form-group">
                <label class="col-xs-3 control-label">From: </label>
                <div class="col-xs-5">
                    <input type="text" id="autocomplete3" class="form-control" placeholder="Enter origin"/>
                    <input type="hidden" id="ridelat1" name="ridelat1"/>
                    <input type="hidden" id="ridelng1" name="ridelng1"/>
                    <input type="hidden" id="ridecity1" name="ridecity1"/>
                    <!-- <input type="hidden" id="ridecountry1" name="ridecountry1"/> -->
                </div>
            </div>
            <div class="form-group">
                <label class="col-xs-3 control-label">To: </label>
                <div class="col-xs-5">
                    <input type="text" id="autocomplete4" class="form-control" placeholder="Enter destination"/>
                    <input type="hidden"  id="ridelat2" name="ridelat2"/>
                    <input type="hidden"  id="ridelng2" name="ridelng2"/>
                    <input type="hidden" id="ridecity2" name="ridecity2"/>
                    <!-- <input type="hidden" id="ridecountry2" name="ridecountry2"/> -->
                </div>
            </div>
            <div class="form-group">
                <div class="col-xs-5 col-xs-offset-3">
                    <button type="submit" id="js-submit" class="btn btn-primary">Search !</button>
                </div>
            </div>
        </form>
      </div>
    </div>
    </div>
</body>
